# 상호작용 추가하기

## 이벤트에 응답하기

### 이벤트 전파 - 이벤트 버블링과 캡쳐링

- 이벤트 버블링

  - 이벤트가 발생한 요소에서 시작해 부모 요소로 전파되는 것

- 이벤트 캡쳐링

  - 이벤트가 발생한 요소의 부모 요소에서 시작해 이벤트가 발생한 요소까지 전파되는 것

> 이벤트 전파 순서 : 이벤트 캡쳐링 → 이벤트 타깃 → 이벤트 버블링

리액트에서는 이벤트 버블링을 사용한다.

`onScroll` 제외한 모든 React 이벤트는 전파된다.(버블링)

이벤트 버블링을 막기 위해서는 `e.stopPropagation()`을 사용한다.

> `e.preventDefault()`는 이벤트의 기본 동작을 막는다.

#### 🤔 `onClickCapture` ?

- 이벤트 캡쳐링을 사용하고 싶을 때 사용한다.
- `onClick`보다 먼저 발생한다.
- `onClick`보다 먼저 발생하기 때문에 `onClick`에서 `e.stopPropagation()`을 사용해도 `onClickCapture`는 실행된다.

## State: 컴포넌트의 기억 저장소

트리거 -> 렌더 -> 커밋

`커밋`은 React가 DOM을 업데이트하는 것을 의미한다.

## 스냅샷으로서의 state

`렌더링`은 React가 컴포넌트를 호출하는 것을 의미한다.

### 리렌더링

1. React가 함수를 다시 호출
2. 함수가 새로운 JSX 스냅샷을 반환
3. 그러면 React가 함수가 반환한 스냅샷과 일치하도록 화면을 업데이트

### state 업데이트

객체, 배열을 업데이트 할 때는 새로운 객체, 배열을 만들어야 한다.

```js
// 객체 업데이트
setState({
  user: {
    ...state.user,
    age: 32,
  },
});

// 배열 업데이트
setState({
  todos: [
    ...state.todos,
    {
      id: 3,
      text: '새로운 할 일',
      done: false,
    },
  ],
});
```
